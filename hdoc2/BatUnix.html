<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="BatUnit.html">
<link rel="next" href="BatUref.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of class methods" rel=Appendix href="index_methods.html">
<link title="Index of classes" rel=Appendix href="index_classes.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="BatArray" rel="Chapter" href="BatArray.html">
<link title="BatAvlTree" rel="Chapter" href="BatAvlTree.html">
<link title="BatBase64" rel="Chapter" href="BatBase64.html">
<link title="BatBig_int" rel="Chapter" href="BatBig_int.html">
<link title="BatBigarray" rel="Chapter" href="BatBigarray.html">
<link title="BatBitSet" rel="Chapter" href="BatBitSet.html">
<link title="BatBool" rel="Chapter" href="BatBool.html">
<link title="BatBounded" rel="Chapter" href="BatBounded.html">
<link title="BatBuffer" rel="Chapter" href="BatBuffer.html">
<link title="BatCache" rel="Chapter" href="BatCache.html">
<link title="BatChar" rel="Chapter" href="BatChar.html">
<link title="BatCharParser" rel="Chapter" href="BatCharParser.html">
<link title="BatComplex" rel="Chapter" href="BatComplex.html">
<link title="BatConcurrent" rel="Chapter" href="BatConcurrent.html">
<link title="BatDeque" rel="Chapter" href="BatDeque.html">
<link title="BatDigest" rel="Chapter" href="BatDigest.html">
<link title="BatDllist" rel="Chapter" href="BatDllist.html">
<link title="BatDynArray" rel="Chapter" href="BatDynArray.html">
<link title="BatEnum" rel="Chapter" href="BatEnum.html">
<link title="BatFile" rel="Chapter" href="BatFile.html">
<link title="BatFingerTree" rel="Chapter" href="BatFingerTree.html">
<link title="BatFloat" rel="Chapter" href="BatFloat.html">
<link title="BatFormat" rel="Chapter" href="BatFormat.html">
<link title="BatGc" rel="Chapter" href="BatGc.html">
<link title="BatGenlex" rel="Chapter" href="BatGenlex.html">
<link title="BatGlobal" rel="Chapter" href="BatGlobal.html">
<link title="BatHashcons" rel="Chapter" href="BatHashcons.html">
<link title="BatHashtbl" rel="Chapter" href="BatHashtbl.html">
<link title="BatHeap" rel="Chapter" href="BatHeap.html">
<link title="BatIMap" rel="Chapter" href="BatIMap.html">
<link title="BatIO" rel="Chapter" href="BatIO.html">
<link title="BatISet" rel="Chapter" href="BatISet.html">
<link title="BatInnerIO" rel="Chapter" href="BatInnerIO.html">
<link title="BatInnerWeaktbl" rel="Chapter" href="BatInnerWeaktbl.html">
<link title="BatInt" rel="Chapter" href="BatInt.html">
<link title="BatInt32" rel="Chapter" href="BatInt32.html">
<link title="BatInt64" rel="Chapter" href="BatInt64.html">
<link title="BatInterfaces" rel="Chapter" href="BatInterfaces.html">
<link title="BatLazyList" rel="Chapter" href="BatLazyList.html">
<link title="BatLexing" rel="Chapter" href="BatLexing.html">
<link title="BatList" rel="Chapter" href="BatList.html">
<link title="BatLog" rel="Chapter" href="BatLog.html">
<link title="BatLogger" rel="Chapter" href="BatLogger.html">
<link title="BatMap" rel="Chapter" href="BatMap.html">
<link title="BatMarshal" rel="Chapter" href="BatMarshal.html">
<link title="BatMultiMap" rel="Chapter" href="BatMultiMap.html">
<link title="BatMultiPMap" rel="Chapter" href="BatMultiPMap.html">
<link title="BatMutex" rel="Chapter" href="BatMutex.html">
<link title="BatNativeint" rel="Chapter" href="BatNativeint.html">
<link title="BatNum" rel="Chapter" href="BatNum.html">
<link title="BatNumber" rel="Chapter" href="BatNumber.html">
<link title="BatOo" rel="Chapter" href="BatOo.html">
<link title="BatOptParse" rel="Chapter" href="BatOptParse.html">
<link title="BatOption" rel="Chapter" href="BatOption.html">
<link title="BatOrd" rel="Chapter" href="BatOrd.html">
<link title="BatParserCo" rel="Chapter" href="BatParserCo.html">
<link title="BatPathGen" rel="Chapter" href="BatPathGen.html">
<link title="BatPervasives" rel="Chapter" href="BatPervasives.html">
<link title="BatPrint" rel="Chapter" href="BatPrint.html">
<link title="BatPrintexc" rel="Chapter" href="BatPrintexc.html">
<link title="BatPrintf" rel="Chapter" href="BatPrintf.html">
<link title="BatQueue" rel="Chapter" href="BatQueue.html">
<link title="BatRMutex" rel="Chapter" href="BatRMutex.html">
<link title="BatRandom" rel="Chapter" href="BatRandom.html">
<link title="BatRef" rel="Chapter" href="BatRef.html">
<link title="BatRefList" rel="Chapter" href="BatRefList.html">
<link title="BatResult" rel="Chapter" href="BatResult.html">
<link title="BatReturn" rel="Chapter" href="BatReturn.html">
<link title="BatScanf" rel="Chapter" href="BatScanf.html">
<link title="BatSeq" rel="Chapter" href="BatSeq.html">
<link title="BatSet" rel="Chapter" href="BatSet.html">
<link title="BatSplay" rel="Chapter" href="BatSplay.html">
<link title="BatStack" rel="Chapter" href="BatStack.html">
<link title="BatStats" rel="Chapter" href="BatStats.html">
<link title="BatStream" rel="Chapter" href="BatStream.html">
<link title="BatString" rel="Chapter" href="BatString.html">
<link title="BatSubstring" rel="Chapter" href="BatSubstring.html">
<link title="BatSys" rel="Chapter" href="BatSys.html">
<link title="BatText" rel="Chapter" href="BatText.html">
<link title="BatTuple" rel="Chapter" href="BatTuple.html">
<link title="BatUnit" rel="Chapter" href="BatUnit.html">
<link title="BatUnix" rel="Chapter" href="BatUnix.html">
<link title="BatUref" rel="Chapter" href="BatUref.html">
<link title="BatValuePrinter" rel="Chapter" href="BatValuePrinter.html">
<link title="BatVect" rel="Chapter" href="BatVect.html">
<link title="Batteries" rel="Chapter" href="Batteries.html">
<link title="BatteriesConfig" rel="Chapter" href="BatteriesConfig.html">
<link title="BatteriesPrint" rel="Chapter" href="BatteriesPrint.html">
<link title="BatteriesThread" rel="Chapter" href="BatteriesThread.html">
<link title="Extlib" rel="Chapter" href="Extlib.html">
<link title="Uniclib" rel="Chapter" href="Uniclib.html"><link title="Interfacing with the standard input/output library" rel="Section" href="#6_Interfacingwiththestandardinputoutputlibrary">
<link title="High-level network connection functions" rel="Section" href="#6_Highlevelnetworkconnectionfunctions">
<link title="Small tools" rel="Section" href="#6_Smalltools">
<link title="Thread-safety internals" rel="Section" href="#6_Threadsafetyinternals">
<link title="Obsolete stuff" rel="Section" href="#6_Obsoletestuff">
<title>Batteries user guide : BatUnix</title>
</head>
<body>
<div class="navbar"><a class="pre" href="BatUnit.html" title="BatUnit">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="BatUref.html" title="BatUref">Next</a>
</div>
<h1>Module <a href="type_BatUnix.html">BatUnix</a></h1>
<pre><span class="keyword">module</span> BatUnix: <code class="code"><span class="keyword">sig</span></code> <a href="BatUnix.html">..</a> <code class="code"><span class="keyword">end</span></code></pre>Low-level interface to the operating system (both Unix and Windows).
<p>

    This module only provides low-level functions and types. Unless you
    know that you need low-level access to the operating system, you
    probably don't. For higher-level functions, see modules <a href="BatIO.html"><code class="code"><span class="constructor">BatIO</span></code></a>,
    <a href="BatFile.html"><code class="code"><span class="constructor">BatFile</span></code></a>.
<p>

    <b>Note</b> This module is thread-safe.<br>
<b>Author(s):</b> Xavier Leroy (Base module), David Teller<br>
<hr width="100%">
<br>
Low-level interface to the operating system (both Unix and Windows).
<p>

    This module only provides low-level functions and types. Unless you
    know that you need low-level access to the operating system, you
    probably don't. For higher-level functions, see modules <a href="BatIO.html"><code class="code"><span class="constructor">BatIO</span></code></a>,
    <a href="BatFile.html"><code class="code"><span class="constructor">BatFile</span></code></a>.
<p>

    <b>Note</b> This module is thread-safe.<br>
<br>
<span id="6_Interfacingwiththestandardinputoutputlibrary"><h6>Interfacing with the standard input/output library</h6></span><br>
<pre><span id="VALinput_of_descr"><span class="keyword">val</span> input_of_descr</span> : <code class="type">?autoclose:bool -> ?cleanup:bool -> Unix.file_descr -> <a href="BatInnerIO.html#TYPEinput">BatInnerIO.input</a></code></pre><div class="info">
Create an <code class="code">input</code> reading from the given descriptor.
    The <code class="code">input</code> is initially in binary mode; use
    <code class="code">set_binary_mode_in ic <span class="keyword">false</span></code> if text mode is desired.<br>
</div>
<div class="param_info"><code class="code">autoclose</code> : If true (default value), close the input
    automatically once there is no more content to read. Otherwise,
    the input will be closed according to the usual rules of module
    <a href="BatIO.html"><code class="code"><span class="constructor">BatIO</span></code></a>. Barring very specific needs (e.g. using file descriptors as
    locks), you probably want <code class="code">autoclose</code> to be <code class="code"><span class="keyword">true</span></code>.</div>
<div class="param_info"><code class="code">cleanup</code> : If true, close the underlying file descriptor
    when the <code class="code">input</code> is closed. If false or unspecified,
    do nothing, in which case you will need to close the underlying
    file descriptor yourself to ensure proper cleanup.</div>
<pre><span id="VALoutput_of_descr"><span class="keyword">val</span> output_of_descr</span> : <code class="type">?cleanup:bool -> Unix.file_descr -> unit <a href="BatInnerIO.html#TYPEoutput">BatInnerIO.output</a></code></pre><div class="info">
Create an <code class="code">output</code> writing on the given descriptor.
      The <code class="code">output</code> is initially in binary mode; use
      <code class="code">set_binary_mode_out oc <span class="keyword">false</span></code> if text mode is desired.<br>
</div>
<div class="param_info"><code class="code">cleanup</code> : If true, close the underlying file descriptor
      when the <code class="code">output</code> is closed. If false or unspecified,
      do nothing, in which case you will need to close the underlying
      file descriptor yourself to ensure proper cleanup.</div>
<pre><span id="VALdescr_of_input"><span class="keyword">val</span> descr_of_input</span> : <code class="type"><a href="BatInnerIO.html#TYPEinput">BatInnerIO.input</a> -> Unix.file_descr</code></pre><div class="info">
Return the descriptor corresponding to an input.
<p>

    Not all inputs have file descriptors. This function works
    only for inputs which have been created using module <code class="code"><span class="constructor">Unix</span></code>.<br>
<b>Raises</b> <code>Invalid_argument</code> <code class="code"><span class="string">"Unix.descr_of_in_channel"</span></code> if this input
    channel doesn't have a file descriptor<br>
</div>
<pre><span id="VALdescr_of_output"><span class="keyword">val</span> descr_of_output</span> : <code class="type">unit <a href="BatInnerIO.html#TYPEoutput">BatInnerIO.output</a> -> Unix.file_descr</code></pre><div class="info">
Return the descriptor corresponding to an output.
<p>

      Not all inputs have file descriptors. This function works
      only for inputs which have been created from module Unix.<br>
<b>Raises</b> <code>Invalid_argument</code> <code class="code"><span class="string">"Unix.descr_of_out_channel"</span></code> if this input
      channel doesn't have a file descriptor<br>
</div>
<pre><span id="VALopen_process_in"><span class="keyword">val</span> open_process_in</span> : <code class="type">?autoclose:bool -> ?cleanup:bool -> string -> <a href="BatInnerIO.html#TYPEinput">BatInnerIO.input</a></code></pre><div class="info">
High-level pipe and process management. This function
    runs the given command in parallel with the program.
    The standard output of the command is redirected to a pipe,
    which can be read via the returned input.
    The command is interpreted by the shell <code class="code">/bin/sh</code> (cf. <code class="code">system</code>).<br>
</div>
<div class="param_info"><code class="code">autoclose</code> : If true (default value), close the input
    automatically once there is no more content to read. Otherwise,
    the input will be closed according to the usual rules of module
    <a href="BatIO.html"><code class="code"><span class="constructor">BatIO</span></code></a>. Barring very specific needs (e.g. using file descriptors as
    locks), you probably want <code class="code">autoclose</code> to be <code class="code"><span class="keyword">true</span></code>.</div>
<div class="param_info"><code class="code">cleanup</code> : If true or unspecified, close the process when the <code class="code">input</code>
    is closed. If false, do nothing, in which case you
    will need to close the process yourself to ensure proper cleanup.</div>
<pre><span id="VALopen_process_out"><span class="keyword">val</span> open_process_out</span> : <code class="type">?cleanup:bool -> string -> unit <a href="BatInnerIO.html#TYPEoutput">BatInnerIO.output</a></code></pre><div class="info">
Same as <code class="code"><span class="constructor">Unix</span>.open_process_in</code>, but redirect the standard input of
      the command to a pipe.  Data written to the returned output
      is sent to the standard input of the command.
<p>

      <b>Warning</b> writes on outputs are buffered, hence be careful
      to call <code class="code"><span class="constructor">Pervasives</span>.flush</code> at the right times to ensure
      correct synchronization.<br>
</div>
<div class="param_info"><code class="code">cleanup</code> : If true or unspecified, close the process when the <code class="code">output</code>
      is closed. If false, do nothing, in which case you
      will need to close the process yourself to ensure proper cleanup.</div>
<pre><span id="VALopen_process"><span class="keyword">val</span> open_process</span> : <code class="type">?autoclose:bool -><br>       ?cleanup:bool -> string -> <a href="BatInnerIO.html#TYPEinput">BatInnerIO.input</a> * unit <a href="BatInnerIO.html#TYPEoutput">BatInnerIO.output</a></code></pre><div class="info">
Same as <code class="code"><span class="constructor">Unix</span>.open_process_out</code>, but redirects both the
      standard input and standard output of the command to pipes
      connected to the two returned <code class="code">input</code>/<code class="code">output</code>.
      The returned <code class="code">input</code> is connected to the output of the
      command, and the returned <code class="code">output</code> to the input of the
      command.<br>
</div>
<div class="param_info"><code class="code">autoclose</code> : If true (default value), close the input
      automatically once there is no more content to read. Otherwise,
      the input will be closed according to the usual rules of module
      <a href="BatIO.html"><code class="code"><span class="constructor">BatIO</span></code></a>. Barring very specific needs (e.g. using file descriptors as
      locks), you probably want <code class="code">autoclose</code> to be <code class="code"><span class="keyword">true</span></code>.</div>
<div class="param_info"><code class="code">cleanup</code> : If true or unspecified, close the process when either the
      <code class="code">output</code> or the <code class="code">output</code> is closed. If false,
      do nothing, in which case you will need to close
      the process yourself to ensure proper cleanup.</div>
<pre><span id="VALopen_process_full"><span class="keyword">val</span> open_process_full</span> : <code class="type">?autoclose:bool -><br>       ?cleanup:bool -><br>       string -><br>       string array -> <a href="BatInnerIO.html#TYPEinput">BatInnerIO.input</a> * unit <a href="BatInnerIO.html#TYPEoutput">BatInnerIO.output</a> * <a href="BatInnerIO.html#TYPEinput">BatInnerIO.input</a></code></pre><div class="info">
Similar to <code class="code"><span class="constructor">Unix</span>.open_process</code>, but the second argument
      specifies the environment passed to the command.  The result is
      a triple of <code class="code">input</code>/<code class="code">output</code> connected respectively
      to the standard output, standard input, and standard error of
      the command.<br>
</div>
<div class="param_info"><code class="code">autoclose</code> : If true (default value), close the input
      automatically once there is no more content to read. Otherwise,
      the input will be closed according to the usual rules of module
      <a href="BatIO.html"><code class="code"><span class="constructor">BatIO</span></code></a>. Barring very specific needs (e.g. using file descriptors as
      locks), you probably want <code class="code">autoclose</code> to be <code class="code"><span class="keyword">true</span></code>.</div>
<div class="param_info"><code class="code">cleanup</code> : If true or unspecified, close the process when either the
      <code class="code">output</code> or the <code class="code">output</code> is closed. If false,
      do nothing, in which case you will need to close
      the process yourself to ensure proper cleanup.</div>
<pre><span id="VALclose_process_in"><span class="keyword">val</span> close_process_in</span> : <code class="type"><a href="BatInnerIO.html#TYPEinput">BatInnerIO.input</a> -> Unix.process_status</code></pre><div class="info">
Close <code class="code">input</code> opened by <code class="code"><span class="constructor">Unix</span>.open_process_in</code>,
      wait for the associated command to terminate,
      and return its termination status.<br>
<b>Raises</b> <code>Unix_error(EBADF,</code> "close_process_in", "") if the argument
      is not an <code class="code">input</code> opened by <code class="code"><span class="constructor">Unix</span>.open_process_in</code>.<br>
</div>
<pre><span id="VALclose_process_out"><span class="keyword">val</span> close_process_out</span> : <code class="type">unit <a href="BatInnerIO.html#TYPEoutput">BatInnerIO.output</a> -> Unix.process_status</code></pre><div class="info">
Close <code class="code">output</code> opened by <code class="code"><span class="constructor">Unix</span>.open_process_out</code>,
      wait for the associated command to terminate,
      and return its termination status.<br>
<b>Raises</b> <code>Unix_error(EBADF,</code> "close_process_out", "") if the argument
      is not an <code class="code">output</code> opened by <code class="code"><span class="constructor">Unix</span>.open_process_out</code>.<br>
</div>
<pre><span id="VALclose_process"><span class="keyword">val</span> close_process</span> : <code class="type"><a href="BatInnerIO.html#TYPEinput">BatInnerIO.input</a> * unit <a href="BatInnerIO.html#TYPEoutput">BatInnerIO.output</a> -> Unix.process_status</code></pre><div class="info">
Close <code class="code">input</code>/<code class="code">output</code> opened by <code class="code"><span class="constructor">Unix</span>.open_process</code>,
      wait for the associated command to terminate,
      and return its termination status.<br>
<b>Raises</b> <code>Unix_error(EBADF,</code> "close_process", "") if the argument
      is not pair of <code class="code">input</code>/<code class="code">output</code> opened by <code class="code"><span class="constructor">Unix</span>.open_process</code>.<br>
</div>
<pre><span id="VALclose_process_full"><span class="keyword">val</span> close_process_full</span> : <code class="type"><a href="BatInnerIO.html#TYPEinput">BatInnerIO.input</a> * unit <a href="BatInnerIO.html#TYPEoutput">BatInnerIO.output</a> * <a href="BatInnerIO.html#TYPEinput">BatInnerIO.input</a> -><br>       Unix.process_status</code></pre><div class="info">
Close i/o opened by <code class="code"><span class="constructor">Unix</span>.open_process_full</code>,
      wait for the associated command to terminate,
      and return its termination status.<br>
<b>Raises</b> <code>Unix_error(EBADF,</code> "close_process_full", "") if the argument
      is not a triple of <code class="code">input</code>/<code class="code">output</code> opened by <code class="code"><span class="constructor">Unix</span>.open_process_full</code>.<br>
</div>
<br>
<span id="6_Highlevelnetworkconnectionfunctions"><h6>High-level network connection functions</h6></span><br>
<pre><span id="VALopen_connection"><span class="keyword">val</span> open_connection</span> : <code class="type">?autoclose:bool -> Unix.sockaddr -> <a href="BatInnerIO.html#TYPEinput">BatInnerIO.input</a> * unit <a href="BatInnerIO.html#TYPEoutput">BatInnerIO.output</a></code></pre><div class="info">
Connect to a server at the given address.
      Return a pair of input/output connected to the server. The
      connection is closed whenever either the input or the output
      is closed.
<p>

      Remember to call <code class="code"><span class="constructor">Pervasives</span>.flush</code> on the output  at the right
      times to ensure correct synchronization.<br>
</div>
<div class="param_info"><code class="code">autoclose</code> : If true (default value), close the input
      automatically once there is no more content to read. Otherwise,
      the input will be closed according to the usual rules of module
      <a href="BatIO.html"><code class="code"><span class="constructor">BatIO</span></code></a>. Barring very specific needs (e.g. using file descriptors as
      locks), you probably want <code class="code">autoclose</code> to be <code class="code"><span class="keyword">true</span></code>.</div>
<pre><span id="VALshutdown_connection"><span class="keyword">val</span> shutdown_connection</span> : <code class="type"><a href="BatInnerIO.html#TYPEinput">BatInnerIO.input</a> -> unit</code></pre><div class="info">
<span class="warning">Deprecated.</span>Connections do not require a special function anymore.
      Use regular function <a href="BatIO.html#VALclose_in"><code class="code"><span class="constructor">BatIO</span>.close_in</code></a> for closing connections.<br>
``Shut down'' a connection established with <code class="code"><span class="constructor">Unix</span>.open_connection</code>;
      that is, transmit an end-of-file condition to the server reading
      on the other side of the connection.<br>
</div>
<pre><span id="VALestablish_server"><span class="keyword">val</span> establish_server</span> : <code class="type">?autoclose:bool -><br>       ?cleanup:bool -><br>       (<a href="BatInnerIO.html#TYPEinput">BatInnerIO.input</a> -> unit <a href="BatInnerIO.html#TYPEoutput">BatInnerIO.output</a> -> unit) -> Unix.sockaddr -> unit</code></pre><div class="info">
Establish a server on the given address.
<p>

      <code class="code">establish_server f addr</code> establishes a server on address
      <code class="code">addr</code>.  For each connection on this address, function <code class="code">f</code> is
      called with two buffered channels connected to the client. A new
      process is created for each connection. The function
      <code class="code"><span class="constructor">Unix</span>.establish_server</code> never returns normally.<br>
</div>
<div class="param_info"><code class="code">autoclose</code> : If true (default value), inputs passed to <code class="code">f</code>
      close the input automatically once there is no more content to
      read. Otherwise, the input will be closed according to the usual
      rules of module <a href="BatIO.html"><code class="code"><span class="constructor">BatIO</span></code></a>. Barring very specific needs (e.g. using
      file descriptors as locks), you probably want <code class="code">autoclose</code> to be
      <code class="code"><span class="keyword">true</span></code>.</div>
<div class="param_info"><code class="code">cleanup</code> : If true or unspecified, close the connection when
      the <code class="code">input</code> or the <code class="code">output</code> is closed or
      garbage-collected. If false, do nothing, in which case you will
      need to shutdown the connection using <a href="BatUnix.html#VALshutdown_connection"><code class="code"><span class="constructor">BatUnix</span>.shutdown_connection</code></a> to
      ensure proper cleanup.</div>
<br>
<span id="6_Smalltools"><h6>Small tools</h6></span><br>
<pre><span id="VALis_directory"><span class="keyword">val</span> is_directory</span> : <code class="type">string -> bool</code></pre><div class="info">
<code class="code">is_directory filename</code> returns true if <code class="code">filename</code> refers to a directory (or symlink of a directory)<br>
</div>
<pre><span id="VALrestart_on_EINTR"><span class="keyword">val</span> restart_on_EINTR</span> : <code class="type">('a -> 'b) -> 'a -> 'b</code></pre><div class="info">
<code class="code">restart_on_EINTR f x</code> invokes <code class="code">f</code> on <code class="code">x</code> repetedly until the function returns
    a value or raise another exception than EINTR.<br>
</div>
<br>
<span id="6_Threadsafetyinternals"><h6>Thread-safety internals</h6></span>
<p>

   Unless you are attempting to adapt Batteries Included to a new model of
   concurrency, you probably won't need this.<br>
<pre><span id="VALlock"><span class="keyword">val</span> lock</span> : <code class="type"><a href="BatConcurrent.html#TYPElock">BatConcurrent.lock</a> Pervasives.ref</code></pre><div class="info">
A lock used to synchronize internal operations.
<p>

   By default, this is <a href="BatConcurrent.html#VALnolock"><code class="code"><span class="constructor">BatConcurrent</span>.nolock</code></a>. However, if you're
   using a version of Batteries compiled in threaded mode, this uses
   <a href="BatMutex.html"><code class="code"><span class="constructor">BatMutex</span></code></a>. If you're attempting to use Batteries with another
   concurrency model, set the lock appropriately.<br>
</div>
<br>
<span id="6_Obsoletestuff"><h6>Obsolete stuff</h6></span><br>
<pre><span id="VALin_channel_of_descr"><span class="keyword">val</span> in_channel_of_descr</span> : <code class="type">Unix.file_descr -> <a href="BatInnerIO.html#TYPEinput">BatInnerIO.input</a></code></pre><div class="info">
<span class="warning">Deprecated.</span>use <a href="BatUnix.html#VALinput_of_descr"><code class="code"><span class="constructor">BatUnix</span>.input_of_descr</code></a><br>
</div>
<pre><span id="VALout_channel_of_descr"><span class="keyword">val</span> out_channel_of_descr</span> : <code class="type">Unix.file_descr -> unit <a href="BatInnerIO.html#TYPEoutput">BatInnerIO.output</a></code></pre><div class="info">
<span class="warning">Deprecated.</span>use <a href="BatUnix.html#VALoutput_of_descr"><code class="code"><span class="constructor">BatUnix</span>.output_of_descr</code></a>.<br>
</div>
<pre><span id="VALdescr_of_in_channel"><span class="keyword">val</span> descr_of_in_channel</span> : <code class="type"><a href="BatInnerIO.html#TYPEinput">BatInnerIO.input</a> -> Unix.file_descr</code></pre><div class="info">
<span class="warning">Deprecated.</span>use <a href="BatUnix.html#VALdescr_of_input"><code class="code"><span class="constructor">BatUnix</span>.descr_of_input</code></a>.<br>
</div>
<pre><span id="VALdescr_of_out_channel"><span class="keyword">val</span> descr_of_out_channel</span> : <code class="type">unit <a href="BatInnerIO.html#TYPEoutput">BatInnerIO.output</a> -> Unix.file_descr</code></pre><div class="info">
<span class="warning">Deprecated.</span>use <a href="BatUnix.html#VALdescr_of_output"><code class="code"><span class="constructor">BatUnix</span>.descr_of_output</code></a>.<br>
</div>
</body></html>