BYTE_ENABLED   = true
NATIVE_ENABLED = true

USE_OCAMLFIND = true

OCAMLDEP_MODULES_ENABLED = false

NAME = aaa
VERSION = 2009.11

.PHONY: clean
clean:
    rm -f $(filter-proper-targets $(ls R, .))

.SUBDIRS: src

.PHONY: all
all: src/batteries.cmxa src/batteries.cma

.PHONY: install
install: all
	$(OCAMLFIND) install $(NAME) build/META \
	src/*.mli src/*.cmi src/*.cma src/*.cmxa

.PHONY: uninstall
uninstall:
	$(OCAMLFIND) remove $(NAME)

.DEFAULT: all

#doc:
#	$(OCAMLFIND) ocamldoc -package camomile,threads \
#	-html -d doc -I src src/*.mli