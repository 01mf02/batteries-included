OASISFormat:        0.3
OCamlVersion:       >= 3.12.1
Name:               batteries
Version:            2.2
Authors:            Batteries Included Team
License:            LGPL-2.1 with OCaml linking exception
LicenseFile:        LICENSE
Homepage:           http://batteries.forge.ocamlcore.org/
#BuildType:         custom (0.2)
#InstallType:       custom (0.2)
#BuildTools:        make
BuildTools:         ocamlbuild
Plugins:            META (0.3), DevFiles (0.3)
Synopsis:           Extended OCaml Standard Library
FilesAB:            src/batteriesConfig.ml.ab
PrebuildCommand:    $make prefilter
 
#XCustomBuild: $make all
#XCustomInstall: $make install
#XCustomUninstall: $make uninstall

Flag "io"
  Description:  Build and install the IO system
  Default:      true

Flag "num"
  Description:  Build and install arbitrary precision numbers
  Default:      true

Flag "thread"
  Description:  Build and install threading facilities
  Default:      true

Flag "data"
  Description:  Build and install additional data structures
  Default:      true

Flag "iter"
  Description:  Build and install iterators
  Default:      true

Flag "extlib"
  Description:  Build and install the Extlib compatibility interface
  Default:      true

Flag "text"
  Description:  Build and install text-handling facilities (utf8, ...)
  Default:      true

Library "batteries"
  Path:             src
  Modules:          BatInnerPervasives, BatArray, BatBigarray, BatBool,
                    BatBounded, BatBuffer, BatChar, BatComplex, BatFloat,
                    BatFormat, BatGc, BatHashtbl, BatHeap, BatInt64, BatInt,
                    BatList, BatMap, BatMarshal, BatNativeint, BatOo,
                    BatPrintexc, BatPrintf, BatBitSet, BatQueue, BatRandom,
                    BatSet, BatStack, BatString, BatSys, BatUnit, BatGlobal,
                    BatInterfaces, BatNumber, BatOption, BatOrd, BatRef,
                    BatResult, BatConcurrent, BatReturn, BatTuple, BatAvlTree,
                    BatInnerWeaktbl, BatteriesConfig, BatteriesPrint, Batteries

#Library "batteries_iter"
#  Path:             src/iter
#  Modules:          BatEnum, BatSeq, BatLazyList, BatStream, BatteriesIter
#  Build$:           flag(iter)
#  Install$:         flag(iter)
#  FindlibName:      iter
#  FindlibParent:    batteries
#  BuildDepends:     batteries
#  XMETARequires:    batteries

#Library "batteries_exceptionless"
#  Path:             src
#  Modules:          BatteriesExceptionless
#  FindlibName:      exceptionless
#  FindlibParent:    batteries
#  BuildDepends:     batteries
#  XMETARequires:    batteries

#Library "batteries_data"
#  Path:             src/data
#  Modules:          BatISet, BatIMap, BatDllist, BatDynArray,
#                    BatMultiPMap, BatMultiMap, BatRefList, BatUref, BatVect, 
#                    BatCache, BatFingerTree, BatDeque, BatSplay, BatHashcons,
#                    BatteriesData
#  FindlibName:      data
#  FindlibParent:    batteries
#  BuildDepends:     batteries
#  XMETARequires:    batteries

#Library "batteries_text"
#  Path:             src/text
#  Modules:          BatUChar, BatUTF8, BatText, BatDigest, BatBase64,
#                    BatCharParser, BatScanf, BatParserCo, BatSubstring, 
#                    BatLexing, BatGenlex, BatPathGen, BatteriesText
#  Build$:           flag(text)
#  Install$:         flag(text)
#  FindlibName:      text
#  FindlibParent:    batteries
#  BuildDepends:     batteries
#  XMETARequires:    batteries

#Library "batteries_io"
#  Path:             src/io
#  Modules:          BatIO, BatInnerIO, BatUnix, BatLogger, BatLog, BatFile,
#                    BatOptParse, BatteriesIO
#  Build$:           flag(io)
#  Install$:         flag(io)
#  FindlibName:      io
#  FindlibParent:    batteries
#  BuildDepends:     batteries,unix
#  XMETARequires:    batteries,unix

#Library "batteries_all"
#  Path:             src/all
#  Modules:          BatPervasives
#  Build$:           flag(io) && flag(text) && flag(data) && flag(iter)
#  Install$:         flag(io) && flag(text) && flag(data) && flag(iter)
#  FindlibName:      all
#  FindlibParent:    batteries
#  BuildDepends:     batteries,batteries.data,batteries.io,
#                    batteries.text,batteries.iter,unix
#  XMETARequires:    batteries,batteries.data,batteries.io,
#                    batteries.text,batteries.iter,unix

#Library "batteries_extlib"
#  Path:             src
#  Modules:          Extlib
#  Build$:           flag(extlib)
#  Install$:         flag(extlib)
#  FindlibName:      extlib
#  FindlibParent:    batteries
#  BuildDepends:     batteries
#  XMETARequires:    batteries

Library "batteries_num"
  Path:             src/num
  Modules:          BatNum, BatBig_int
  Build$:           flag(num)
  Install$:         flag(num)
  FindlibName:      num
  FindlibParent:    batteries
  BuildDepends:     batteries,num
  XMETARequires:    batteries,num

Library "batteries_thread"
  Path:             src/thread
  Modules:          BatRMutex, BatMutex, BatteriesThread
  Build$:           flag(thread)
  Install$:         flag(thread)
  FindlibName:      thread
  FindlibParent:    batteries
  BuildDepends:     batteries,threads,batteries.io
  XMETARequires:    batteries,threads,batteries.io

Document manual
  Type:         custom (0.2)
  Title:        Ocaml Batteries Documentation
  XCustom:      $make doc

Test main
  Type:         custom (0.2)
  Command:      $make test

SourceRepository master
  Type:         git
  Location:     git://github.com/ocaml-batteries-team/batteries-included.git
  Branch:       master
  Browser:      https://github.com/ocaml-batteries-team/batteries-included


